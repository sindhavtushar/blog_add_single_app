{% extends "base.html" %}
{% block title %}Create New Post{% endblock %}

{% block content %}
<div class="create-post-wrapper">

    <div class="create-post-card">
        <h2><i class="bi bi-pencil-square me-2"></i>Create New Post</h2>

        <form method="POST" enctype="multipart/form-data">

            <!-- Title -->
            <div class="mb-3">
                <label for="title" class="form-label">Post Title</label>
                <input type="text"
                       class="form-control"
                       id="title"
                       name="title"
                       placeholder="Enter post title"
                       required>
            </div>

            <!-- Category -->
            <div class="mb-3">
                <label class="form-label">Category</label>

                <div class="category-inline">
                    <select name="category_id" class="form-select">
                        <option value="">Select existing category</option>
                        {% for category in categories %}
                            <option value="{{ category.id }}">{{ category.name }}</option>
                        {% endfor %}
                    </select>

                    <input type="text"
                           name="new_category"
                           class="form-control"
                           placeholder="Or create new category">
                </div>
            </div>

            <!-- Content -->
            <div class="mb-3">
                <label for="content" class="form-label">Post Content</label>
                <textarea class="form-control"
                          id="content"
                          name="content"
                          rows="8"
                          placeholder="Write your post content here..."
                          required></textarea>
            </div>

            <!-- Media Upload -->
            <div class="mb-3">
                <label class="form-label">Upload Media</label>

                <div class="file-upload">
                    <i class="bi bi-cloud-arrow-up fs-2 text-primary"></i>
                    <p class="mb-1 fw-semibold">Upload Images / Videos / Audio</p>
                    <small class="text-muted">Multiple files allowed</small>

                    <input type="file"
                           class="form-control mt-2"
                           id="media"
                           name="media"
                           multiple
                           accept="image/*,video/*,audio/*">
                </div>
            </div>

            <!-- Buttons -->
            <div class="action-buttons">
                <button type="submit" class="btn btn-primary px-4">
                    <i class="bi bi-send me-1"></i> Publish
                </button>

                <a href="{{ url_for('index') }}" class="btn btn-outline-secondary px-4">
                    Cancel
                </a>
            </div>

        </form>
    </div>

</div>
{% endblock %}
