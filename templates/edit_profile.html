{% extends "base.html" %}
{% block title %}Edit Profile{% endblock %}

{% block content %}
<div class="edit-profile-wrapper">

    <!-- Header -->
    <div class="edit-profile-header">
        <a href="{{ url_for('profile') }}"
           class="btn btn-sm btn-outline-secondary d-inline-flex align-items-center">
            <i class="bi bi-arrow-left-circle"></i>
        </a>
        <h2>Edit Profile</h2>
    </div>

    <!-- Edit Card -->
    <div class="edit-profile-card">

        <form method="POST" enctype="multipart/form-data">

            <!-- Username -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Username</label>
                <input type="text"
                    name="username"
                    class="form-control"
                    value="{{ current_user.username }}"
                    required>
                <small class="text-muted">
                    This name will be visible on your posts and comments.
                </small>
            </div>


            <!-- Bio -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Bio</label>
                <input type="text"
                       name="bio"
                       class="form-control"
                       placeholder="Short bio"
                       value="{{ profile.bio }}">
            </div>

            <!-- About -->
            <div class="mb-3">
                <label class="form-label fw-semibold">About</label>
                <textarea name="about"
                          rows="4"
                          class="form-control"
                          placeholder="Tell something about yourself">{{ profile.about }}</textarea>
            </div>

            <!-- Location -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Location</label>
                <input type="text"
                       name="location"
                       class="form-control"
                       value="{{ profile.location }}">
            </div>

            <!-- Website -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Website</label>
                <input type="text"
                       name="website"
                       class="form-control"
                       placeholder="https://example.com"
                       value="{{ profile.website }}">
            </div>

            <!-- Gender -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Gender</label>
                <select name="gender" class="form-select">
                    <option value="male" {% if profile.gender == "male" %}selected{% endif %}>Male</option>
                    <option value="female" {% if profile.gender == "female" %}selected{% endif %}>Female</option>
                    <option value="other" {% if profile.gender == "other" %}selected{% endif %}>Other</option>
                    <option value="prefer_not_to_say"
                        {% if profile.gender == "prefer_not_to_say" %}selected{% endif %}>
                        Prefer not to say
                    </option>
                </select>
            </div>

            <!-- Media Upload -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Profile Media</label>

                <div class="profile-media-upload">
                    <i class="bi bi-cloud-arrow-up fs-2 text-primary"></i>
                    <p class="fw-semibold mb-1">Upload Images / Videos / Audio</p>
                    <small class="text-muted">Multiple files supported</small>

                    <input type="file"
                           class="form-control mt-2"
                           name="media"
                           multiple
                           accept="image/*,video/*,audio/*">
                </div>
            </div>

            <!-- Actions -->
            <div class="profile-actions">
                <button type="submit" class="btn btn-success px-4">
                    <i class="bi bi-check-circle me-1"></i> Save Changes
                </button>

                <a href="{{ url_for('profile') }}"
                   class="btn btn-outline-secondary px-4">
                    Cancel
                </a>
            </div>

        </form>
    </div>

</div>
{% endblock %}
